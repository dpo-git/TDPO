<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>–ö–∞—Ä—Ç–∞ –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–∞</title>

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">

<!-- CodeMirror -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/lib/codemirror.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/theme/eclipse.css">
<script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/lib/codemirror.js"></script>
<script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/mode/python/python.js"></script>
<script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/addon/edit/closebrackets.js"></script>
<script src="https://cdn.jsdelivr.net/npm/codemirror@5.65.16/addon/comment/comment.js"></script>

<!-- Pyodide -->
<script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>

<!-- MathJax -->
<script>
window.MathJax = { tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]}, svg: {fontCache: 'global'} };
</script>
<script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<style>
:root {
  --bg:#fff; --fg:#202124; --muted:#5f6368; --border:#e0e3e7; --accent:#1a73e8;
  --code-bg:#f8f9fa; --out-bg:#0b1020; --out-fg:#e5e7eb;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--fg)}
body{font-family:'Roboto',system-ui,-apple-system,Segoe UI,Arial,sans-serif}
main{max-width:1024px;margin:0 auto;padding:24px 16px 64px}
header.page-title h1{margin:0 0 12px;font-size:28px}

.cell{margin:16px 0}

/* Markdown */
.cell.md .md{font-size:16px;line-height:1.65}
.cell.md .md h1,.cell.md .md h2,.cell.md .md h3,.cell.md .md h4{margin:1.2em 0 .6em;font-weight:700}
.cell.md .md h1{font-size:1.4em}
.cell.md .md h2{font-size:1.3em}
.cell.md .md h3{font-size:1.2em}
.cell.md .md code{background:#f1f3f4;padding:2px 4px;border-radius:4px;font-family:'Roboto Mono',ui-monospace,Menlo,Consolas,monospace}
.cell.md .md pre code{background:var(--code-bg);display:block;padding:10px;border:1px solid var(--border);border-radius:8px;white-space:pre-wrap}
.cell.md .md ul,.cell.md .md ol{margin:.25em 0 1em;padding-left:1.4em}
.cell.md .md li{margin:.25em 0}
.cell.md .md li>p{margin:0}
.md table.md-table{border-collapse:collapse;margin:12px 0;width:auto;max-width:100%}
.md table.md-table th,.md table.md-table td{border:1px solid var(--border);padding:6px 10px;text-align:left;vertical-align:top}
.md table.md-table thead th{background:#f6f8fa;font-weight:600}
.cell.md .md hr.md-hr{
  border:0;
  border-top:1px solid var(--border);
  margin:16px 0;
}

.cell.md .md blockquote.md-hint{
  margin:10px 0; padding:10px 12px;
  border-left:4px solid #8b5cf6;   /* —Ñ–∏–æ–ª–µ—Ç–æ–≤–∞—è –ø–æ–ª–æ—Å–∫–∞ */
  background:#f5f3ff;               /* —Å–≤–µ—Ç–ª–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π —Ñ–æ–Ω */
  border-radius:8px;
}
.cell.md .md blockquote p{ margin:0; }

/* collapsible answer */
.cell.md .md details.md-answer{
  margin:12px 0;
  border:1px dashed #c7b8ff;
  background:#f9f7ff;
  border-radius:10px;
  padding:8px 12px;
}
.cell.md .md details.md-answer > summary{
  cursor:pointer;
  font-weight:600;
  outline:none;
  list-style:none;
}
.cell.md .md details.md-answer > summary::-webkit-details-marker{ display:none; }
.cell.md .md details.md-answer > pre{
  margin:10px 0 0;
  background:#f4f3ff;
  border:1px solid #e6e1ff;
  border-radius:8px;
  padding:10px;
  overflow:auto;
}


/* Code cells */
.cell.code .editor-wrap{border:1px solid var(--border);border-radius:12px;background:#fff;box-shadow:0 1px 2px rgba(0,0,0,.05);padding-bottom:0;resize:vertical;overflow:auto}
.cell-header{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:8px 12px;background:#f8fbff;border-bottom:1px solid var(--border)}
.badge{color:var(--muted);font-size:12px}
.actions .btn{appearance:none;padding:6px 10px;font-size:13px;border-radius:8px;cursor:pointer;border:1px solid var(--border);background:#fff;color:#202124}
.actions .btn.run{border-color:var(--accent);background:var(--accent);color:#fff}
.actions .btn.clear,.actions .btn.copy,.actions .btn.reset{margin-left:6px}

/* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–µ—Å—å –∫–æ–¥, –Ω–∏—á–µ–≥–æ –Ω–µ –æ–±—Ä–µ–∑–∞–µ–º */
.CodeMirror{background:var(--code-bg);border-bottom:1px solid var(--border);font-family:'Roboto Mono',ui-monospace,Menlo,Consolas,monospace;font-size:14px;line-height:1.45;height:auto;max-height:none}

/* Output */
.output{background:var(--out-bg);color:var(--out-fg);padding:12px;min-height:24px;font-family:'Roboto Mono',ui-monospace,Menlo,Consolas,monospace}
.output pre{margin:0;white-space:pre-wrap}

hr.sep{margin:24px 0;border:0;border-top:1px solid var(--border)}
footer.note{color:var(--muted);font-size:13px;margin-top:40px}
</style>
</head>
<body>
<main>
  <header class="page-title"><h1>–ö–∞—Ä—Ç–∞ –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–∞</h1></header>
  <section class="cell md"><div class="md">
<p>–ó–∞–¥–∞—á–∞ —ç—Ç–æ–≥–æ –Ω–æ—É—Ç–±—É–∫–∞ &mdash; –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ä—Ç—É –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º, –Ω–æ –∏ <strong>–Ω–∞—É—á–∏—Ç—å —Å—Ç—Ä–æ–∏—Ç—å –µ—ë –ø–æ —à–∞–≥–∞–º</strong>.</p>
<p>–ú—ã –¥–µ–π—Å—Ç–≤—É–µ–º –ø–æ —Å–ª–µ–¥—É—é—â–µ–º—É –∞–ª–≥–æ—Ä–∏—Ç–º—É:</p>
<ol>
<li>–°–æ–∑–¥–∞—ë–º —Å–µ—Ç–∫—É —Ç–æ—á–µ–∫ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ $Oxa$.</li>
<li>–û–ø–∏—Å—ã–≤–∞–µ–º –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫—É—é –º–æ–¥–µ–ª—å: –æ–±–ª–∞—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏ –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ.</li>
<li>–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º –ª–æ–≥–∏–∫—É –∑–∞–¥–∞—á–∏ –≤ —Ç—Ä—ë—Ö—Ü–≤–µ—Ç–Ω—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É.</li>
<li>–ü—Ä–∏–¥—É–º—ã–≤–∞–µ–º —Å–≤–æ—é –∑–∞–¥–∞—á—É, –≤ –∫–æ—Ç–æ—Ä–æ–π –ø–æ–¥–æ–±–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç —É—á–µ–Ω–∏–∫–∞–º.</li>
</ol>
<p>–ü–æ—Å–ª–µ –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è —Å –ø—Ä–∏–º–µ—Ä–æ–º –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤ –¥—Ä–æ–±–∏ (–∏–ª–∏ –∑–∞–¥–∞—Ç—å –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é)
–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—Å—è –∫–∞—Ä—Ç–∞.</p>
</div></section>
<hr class="sep"/>

<section class="cell md"><div class="md">
<h1># –®–∞–≥ 1. –°–µ—Ç–∫–∞ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ $(x,a)$</h1>
<p>–≠—Ç–∞ —è—á–µ–π–∫–∞ —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞: –∑–¥–µ—Å—å –º—ã —Å–æ–∑–¥–∞—ë–º —Å–µ—Ç–∫—É –∑–Ω–∞—á–µ–Ω–∏–π <code>x</code> –∏ <code>a</code> —Å –ø–æ–º–æ—â—å—é <code>np.meshgrid</code>.</p>
<p>–ï—ë –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞—Ç—å, –∞ –∑–∞—Ç–µ–º –∑–∞–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –∏ —á–∏—Å–ª–æ —Ç–æ—á–µ–∫, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å,
–∫–∞–∫ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–ª–∏—è–µ—Ç –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.</p>
</div></section>
<hr class="sep"/>


<section class="cell code">
  <div class="editor-wrap">
    <div class="cell-header">
      <span class="badge">In&nbsp;[1]</span>
      <div class="actions">
        <button class="btn run" onclick="runPy('code1','out1')">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å</button>
        <button class="btn clear" onclick="clearOut('out1')">–û—á–∏—Å—Ç–∏—Ç—å –≤—ã–≤–æ–¥</button>
        <button class="btn copy" onclick="copyCode('code1')">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <button class="btn reset" onclick="resetCode('code1')">–°–±—Ä–æ—Å</button>
      </div>
    </div>
    <textarea id="code1" class="codearea" data-original="import numpy as np

# –®–∞–≥ 1.
# –°–æ–∑–¥–∞—ë–º —Å–µ—Ç–∫—É —Ç–æ—á–µ–∫ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ (x, a).
# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∏–≥—Ä–∞—Ç—å —Å –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –∏ —á–∏—Å–ª–æ–º —Ç–æ—á–µ–∫.

xs = np.linspace(-3, 5, 400)   # –≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è x
aas = np.linspace(-3, 5, 400)  # –≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è a

# X –∏ A ‚Äî –¥–≤—É–º–µ—Ä–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã –æ–¥–Ω–æ–π —Ñ–æ—Ä–º—ã.
# –í –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏ (i, j) —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—á–µ—Ä–µ–¥–Ω–æ–π —Ç–æ—á–∫–∏.
X, A = np.meshgrid(xs, aas)

print(&quot;–§–æ—Ä–º–∞ –º–∞—Å—Å–∏–≤–∞ X:&quot;, X.shape)
print(&quot;–§–æ—Ä–º–∞ –º–∞—Å—Å–∏–≤–∞ A:&quot;, A.shape)
print(&quot;–ü—Ä–∏–º–µ—Ä —Ç–æ—á–∫–∏ (x, a):&quot;, X[0, 0], A[0, 0])">import numpy as np

# –®–∞–≥ 1.
# –°–æ–∑–¥–∞—ë–º —Å–µ—Ç–∫—É —Ç–æ—á–µ–∫ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ (x, a).
# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∏–≥—Ä–∞—Ç—å —Å –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –∏ —á–∏—Å–ª–æ–º —Ç–æ—á–µ–∫.

xs = np.linspace(-3, 5, 400)   # –≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è x
aas = np.linspace(-3, 5, 400)  # –≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è a

# X –∏ A ‚Äî –¥–≤—É–º–µ—Ä–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã –æ–¥–Ω–æ–π —Ñ–æ—Ä–º—ã.
# –í –∫–∞–∂–¥–æ–π –ø–æ–∑–∏—Ü–∏–∏ (i, j) —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—á–µ—Ä–µ–¥–Ω–æ–π —Ç–æ—á–∫–∏.
X, A = np.meshgrid(xs, aas)

print("–§–æ—Ä–º–∞ –º–∞—Å—Å–∏–≤–∞ X:", X.shape)
print("–§–æ—Ä–º–∞ –º–∞—Å—Å–∏–≤–∞ A:", A.shape)
print("–ü—Ä–∏–º–µ—Ä —Ç–æ—á–∫–∏ (x, a):", X[0, 0], A[0, 0])</textarea>
  </div>
  <div id="out1" class="output"></div>
</section>
<hr class="sep"/>

<section class="cell md"><div class="md">
<h1># –®–∞–≥ 2. –û–ø–∏—Å—ã–≤–∞–µ–º –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫—É—é –º–æ–¥–µ–ª—å: –û–î–ó –∏ –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ</h1>
<p>–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —É—Å–ª–æ–≤–∏–µ –∑–∞–¥–∞—á–∏ –≤ –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ Python:</p>
<ul>
<li><code>in_domain(x, a)</code> &mdash; –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ª–∏ —Ç–æ—á–∫–∞ <code>(x, a)</code> –æ–±–ª–∞—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è;</li>
<li><code>is_true(x, a)</code> &mdash; –≤–µ—Ä–Ω–æ –ª–∏ –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –≤ —ç—Ç–æ–π —Ç–æ—á–∫–µ.</li>
</ul>
<p>–í –ø—Ä–∏–º–µ—Ä–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ $\frac{x^2 - a}{x - 1} \geq 0$, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ
–ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –ª—é–±—É—é –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é: —Ä–∞–¥–∏–∫–∞–ª, –ª–æ–≥–∞—Ä–∏—Ñ–º, –º–æ–¥—É–ª—å –∏ —Ç.–¥.</p>
<p><strong>‚¨áÔ∏è –ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –∫–æ–¥ –≤ —è—á–µ–π–∫–µ –Ω–∏–∂–µ.</strong></p>
</div></section>
<hr class="sep"/>


<section class="cell code">
  <div class="editor-wrap">
    <div class="cell-header">
      <span class="badge">In&nbsp;[2]</span>
      <div class="actions">
        <button class="btn run" onclick="runPy('code2','out2')">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å</button>
        <button class="btn clear" onclick="clearOut('out2')">–û—á–∏—Å—Ç–∏—Ç—å –≤—ã–≤–æ–¥</button>
        <button class="btn copy" onclick="copyCode('code2')">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <button class="btn reset" onclick="resetCode('code2')">–°–±—Ä–æ—Å</button>
      </div>
    </div>
    <textarea id="code2" class="codearea" data-original="# –í–ê–® –ö–û–î –ù–ò–ñ–ï:
"># –í–ê–® –ö–û–î –ù–ò–ñ–ï:
</textarea>
  </div>
  <div id="out2" class="output"></div>
</section>
<hr class="sep"/>

<section class="cell md"><div class="md">
<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</summary>
<ul>
<li>–ù–∞—á–Ω–∏—Ç–µ —Å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–¥–∞—á–∏: –µ—Å—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∏ —É—Å–ª–æ–≤–∏–µ &laquo;–Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –≤–µ—Ä–Ω–æ –∏–ª–∏ –Ω–µ –≤–µ—Ä–Ω–æ&raquo;.</li>
<li>–í –æ–±–ª–∞—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω—É–∂–Ω–æ –∏—Å–∫–ª—é—á–∏—Ç—å —Ç–µ $x$, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞—â–∞—é—Ç –≤ –Ω–æ–ª—å –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å –∏–ª–∏ –¥–∞—é—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è –ø–æ–¥ –∫–æ—Ä–Ω–µ–º, –ª–æ–≥–∞—Ä–∏—Ñ–º–æ–º –∏ —Ç.–ø.</li>
<li>–í –ø—Ä–∏–º–µ—Ä–µ —Å –¥—Ä–æ–±—å—é $\frac{x^2 - a}{x - 1} \geq 0$ –≤—ã–∫–æ–ª–æ—Ç–æ–π —è–≤–ª—è–µ—Ç—Å—è —Ç–æ—á–∫–∞ $x=1$.
–ù–∞ —Å–µ—Ç–∫–µ, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –æ–±—ã—á–Ω–æ –≤—ã—Ä–µ–∑–∞—é—Ç —É–∑–∫—É—é –ø–æ–ª–æ—Å–∫—É –≤–æ–∫—Ä—É–≥ $x=1$, —á—Ç–æ–±—ã –æ–±–ª–∞—Å—Ç—å –≤–Ω–µ –û–î–ó –±—ã–ª–∞ –∑–∞–º–µ—Ç–Ω–∞.</li>
<li>–§—É–Ω–∫—Ü–∏—è <code>is_true</code> –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤–∞—à–µ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è —Å $0$.</li>
</ul>
</details>
</div></section>
<hr class="sep"/>

<section class="cell md"><div class="md">
<details>
<summary>üß© –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</summary>
<pre><code>import numpy as np

# –ü–æ–ª—É—à–∏—Ä–∏–Ω–∞ ¬´–∑–∞–ø—Ä–µ—â—ë–Ω–Ω–æ–π¬ª –ø–æ–ª–æ—Å—ã –≤–æ–∫—Ä—É–≥ x = 1.
# –í–Ω–µ –û–î–ó —Ç–æ–ª—å–∫–æ —Ç–æ—á–∫–∞ x = 1,
# –û–¥–Ω–∞–∫–æ –Ω–∞ —Å–µ—Ç–∫–µ –æ–Ω–∞ –º–æ–∂–µ—Ç –Ω–µ –ø–æ–ø–∞—Å—Ç—å –≤ —É–∑–ª—ã, –ø–æ—ç—Ç–æ–º—É –¥–µ–ª–∞–µ–º –ø–æ–ª–æ—Å—É.
EPS = 0.05

def in_domain(x, a):
    &quot;&quot;&quot;–ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ª–∏ —Ç–æ—á–∫–∞ (x, a) –æ–±–ª–∞—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.&quot;&quot;&quot;
    # –†–∞–∑—Ä–µ—à–∞–µ–º –≤—Å–µ x, –∫—Ä–æ–º–µ –Ω–µ–±–æ–ª—å—à–æ–π –ø–æ–ª–æ—Å—ã –≤–æ–∫—Ä—É–≥ 1:
    # |x - 1| &gt;= EPS ‚Äî –≤ –û–î–ó, |x - 1| &lt; EPS ‚Äî —Å—á–∏—Ç–∞–µ–º –≤–Ω–µ –û–î–ó.
    return np.abs(x - 1) &gt;= EPS

def is_true(x, a):
    &quot;&quot;&quot;–ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ª–∏ –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ (x^2 - a)/(x - 1) &gt;= 0.&quot;&quot;&quot;
    # –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —á–∏—Å–ª–∏—Ç–µ–ª—å –∏ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å –∫–∞–∫ —É–≥–æ–¥–Ω–æ:
    # –Ω–∞–ø—Ä–∏–º–µ—Ä, x**2 - 2*x + a –∏–ª–∏ –¥—Ä—É–≥–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º.
    num = x**2 - a       # —á–∏—Å–ª–∏—Ç–µ–ª—å –¥—Ä–æ–±–∏
    denom = x - 1        # –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å –¥—Ä–æ–±–∏
    frac = num / denom   # —Å–∞–º–æ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
    return frac &gt;= 0     # –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –≤–µ—Ä–Ω–æ? True/False</code></pre>
</details>
</div></section>
<hr class="sep"/>

<section class="cell md"><div class="md">
<h1># –®–∞–≥ 3. –°—Ç—Ä–æ–∏–º –∫–∞—Ä—Ç—É –∑–Ω–∞—á–µ–Ω–∏–π: -1, 0, 1</h1>
<p>–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏–∏ <code>in_domain</code> –∏ <code>is_true</code> –≥–æ—Ç–æ–≤—ã, –º–æ–∂–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∫–∞—Ä—Ç—É:</p>
<ul>
<li>$-1$ &mdash; —Ç–æ—á–∫–∞ –≤–Ω–µ –æ–±–ª–∞—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (–±–µ–ª—ã–π —Ü–≤–µ—Ç);</li>
<li>$0$ &mdash; –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –ª–æ–∂–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∏–Ω–∏–π —Ü–≤–µ—Ç);</li>
<li>$1$ &mdash; –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –∏—Å—Ç–∏–Ω–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç).</li>
</ul>
<p>–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ c —Å–µ—Ç–∫–æ–π —Å—Ç–æ–∏—Ç —á—É—Ç—å &laquo;—Ä–∞—Å—à–∏—Ä–∏—Ç—å&raquo; –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ –¥–æ —É–∑–∫–∏—Ö –ø–æ–ª–æ—Å
(–≤ –ø—Ä–∏–º–µ—Ä–µ —ç—Ç–æ –æ–∫—Ä–µ—Å—Ç–Ω–æ—Å—Ç—å $x=1$), —á—Ç–æ–±—ã –æ–Ω–∏ –±—ã–ª–∏ –≤–∏–¥–Ω—ã –Ω–∞ —Ä–∏—Å—É–Ω–∫–µ.
</p>
<p><strong>‚¨áÔ∏è –ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –∫–æ–¥ –≤ —è—á–µ–π–∫–µ –Ω–∏–∂–µ.</strong></p>
</div></section>
<hr class="sep"/>


<section class="cell code">
  <div class="editor-wrap">
    <div class="cell-header">
      <span class="badge">In&nbsp;[3]</span>
      <div class="actions">
        <button class="btn run" onclick="runPy('code3','out3')">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å</button>
        <button class="btn clear" onclick="clearOut('out3')">–û—á–∏—Å—Ç–∏—Ç—å –≤—ã–≤–æ–¥</button>
        <button class="btn copy" onclick="copyCode('code3')">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <button class="btn reset" onclick="resetCode('code3')">–°–±—Ä–æ—Å</button>
      </div>
    </div>
    <textarea id="code3" class="codearea" data-original="# –í–ê–® –ö–û–î –ù–ò–ñ–ï:
"># –í–ê–® –ö–û–î –ù–ò–ñ–ï:
</textarea>
  </div>
  <div id="out3" class="output"></div>
</section>
<hr class="sep"/>

<section class="cell md"><div class="md">
<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</summary>
<ul>
<li>–°–æ–∑–¥–∞–π—Ç–µ –º–∞—Å—Å–∏–≤ <code>holds</code>, –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π $-1$ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–Ω–µ –û–î–ó).</li>
<li>–ó–∞—Ç–µ–º –Ω–∞–π–¥–∏—Ç–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—â–µ–µ –Ω–∞—à–µ–º—É &laquo;–û–î–ó&raquo; —Å –ø–æ–º–æ—â—å—é <code>in_domain(X, A)</code>.</li>
<li>–ù–∞ —ç—Ç–∏—Ö —Ç–æ—á–∫–∞—Ö –≤—ã—á–∏—Å–ª–∏—Ç–µ <code>is_true(X, A)</code> –∏ –∑–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ($0$ –∏–ª–∏ $1$) –≤ <code>holds</code>.</li>
<li>–î–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>imshow</code> –∏ –¥–∏—Å–∫—Ä–µ—Ç–Ω—É—é –ø–∞–ª–∏—Ç—Ä—É —á–µ—Ä–µ–∑ <code>ListedColormap</code> –∏ <code>BoundaryNorm</code>.</li>
<li>–ü–æ–∏–≥—Ä–∞–π—Ç–µ —Å –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏ –ø–æ –æ—Å—è–º –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º <code>EPS</code>, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è –∫–∞—Ä—Ç–∏–Ω–∫–∞.</li>
</ul>
</details>
</div></section>
<hr class="sep"/>

<section class="cell md"><div class="md">
<details>
<summary>üß© –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</summary>
<pre><code>import numpy as np
import matplotlib.pyplot as plt
from matplotlib.colors import ListedColormap, BoundaryNorm

# 1. –ü–æ–≤—Ç–æ—Ä—è–µ–º –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–µ—Ç–∫–∏
xs = np.linspace(-3, 5, 400)
aas = np.linspace(-3, 5, 400)
X, A = np.meshgrid(xs, aas)

# 2. –û–±–ª–∞—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è: –≥–¥–µ –º–æ–∂–Ω–æ –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å (x, a)
mask_odz = in_domain(X, A)

# 3. –ú–∞—Å—Å–∏–≤ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:
#    -1 ‚Äî –≤–Ω–µ –û–î–ó, 0 ‚Äî –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –ª–æ–∂–Ω–æ, 1 ‚Äî –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –∏—Å—Ç–∏–Ω–Ω–æ
holds = np.full_like(X, -1, dtype=int)

# 4. –í—ã—á–∏—Å–ª—è–µ–º, –≥–¥–µ –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –≤–µ—Ä–Ω–æ/–Ω–µ–≤–µ—Ä–Ω–æ,
#    —Ç–æ–ª—å–∫–æ –Ω–∞ —Ç–æ—á–∫–∞—Ö –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
vals = np.zeros_like(X, dtype=bool)
vals[mask_odz] = is_true(X[mask_odz], A[mask_odz])

holds[mask_odz &amp; vals] = 1   # –≤ –û–î–ó –∏ –∏—Å—Ç–∏–Ω–∞
holds[mask_odz &amp; ~vals] = 0  # –≤ –û–î–ó –∏ –ª–æ–∂—å

# 5. –ó–∞–¥–∞—ë–º —Ç—Ä–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ü–≤–µ—Ç–∞
cmap = ListedColormap(["white", "blue", "red"])
bounds = [-1.5, -0.5, 0.5, 1.5]
norm = BoundaryNorm(bounds, cmap.N)

# 6. –†–∏—Å—É–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É
plt.figure(figsize=(6, 5))
im = plt.imshow(
    holds,
    extent=[xs.min(), xs.max(), aas.min(), aas.max()],
    origin=&quot;lower&quot;,
    aspect=&quot;auto&quot;,
    cmap=cmap,
    norm=norm,
)
plt.xlabel(&quot;x&quot;)
plt.ylabel(&quot;a&quot;)
plt.title(&quot;–ö–∞—Ä—Ç–∞: -1 ‚Äî –≤–Ω–µ –û–î–ó, 0 ‚Äî –ª–æ–∂—å, 1 ‚Äî –∏—Å—Ç–∏–Ω–∞&quot;)

# 7. –ê–∫–∫—É—Ä–∞—Ç–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è —à–∫–∞–ª–∞
cbar = plt.colorbar(im, shrink=0.8)
cbar.set_ticks([-1, 0, 1])
cbar.set_ticklabels([&quot;–≤–Ω–µ –û–î–ó&quot;, &quot;–ª–æ–∂—å&quot;, &quot;–∏—Å—Ç–∏–Ω–∞&quot;])
cbar.ax.invert_yaxis()

plt.show()</code></pre>
</details>
</div></section>
<hr class="sep"/>

<section class="cell md"><div class="md">
<h1># –®–∞–≥ 4. –°–≤–æ—è –∑–∞–¥–∞—á–∞ –∏ –º–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</h1>
<p>–¢–µ–ø–µ—Ä—å –≤–∞—à–∞ –æ—á–µ—Ä–µ–¥—å –ø—Ä–∏–¥—É–º–∞—Ç—å –∑–∞–¥–∞—á—É —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ç–∞–∫–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–º–æ–∂–µ—Ç –ª—É—á—à–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ —Ä–µ—à–µ–Ω–∏–∏ —É—á–µ–Ω–∏–∫–∞–º.</p>
<p><strong>–ó–∞–¥–∞–Ω–∏–µ.</strong> –°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π—Ç–µ —Å–≤–æ—é –∑–∞–¥–∞—á—É (–µ—ë —É—Å–ª–æ–≤–∏–µ –≤—ã –≤–¥–∞–ª—å–Ω–µ–π—à–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É)
–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç—Ä–æ–∏—Ç –¥–ª—è –Ω–µ—ë –∫–∞—Ä—Ç—É –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ $Oxa$ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å —à–∞–≥–∞–º–∏&nbsp;1-3.</p>
<p><strong>‚¨áÔ∏è –ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –∫–æ–¥ –≤ —è—á–µ–π–∫–µ –Ω–∏–∂–µ.</strong></p>
</div></section>
<hr class="sep"/>


<section class="cell code">
  <div class="editor-wrap">
    <div class="cell-header">
      <span class="badge">In&nbsp;[4]</span>
      <div class="actions">
        <button class="btn run" onclick="runPy('code4','out4')">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å</button>
        <button class="btn clear" onclick="clearOut('out4')">–û—á–∏—Å—Ç–∏—Ç—å –≤—ã–≤–æ–¥</button>
        <button class="btn copy" onclick="copyCode('code4')">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <button class="btn reset" onclick="resetCode('code4')">–°–±—Ä–æ—Å</button>
      </div>
    </div>
    <textarea id="code4" class="codearea" data-original="# –í–ê–® –ö–û–î –ù–ò–ñ–ï:
"># –í–ê–® –ö–û–î –ù–ò–ñ–ï:
</textarea>
  </div>
  <div id="out4" class="output"></div>
</section>
<hr class="sep"/>

<section class="cell md"><div class="md">
<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</summary>
<ul>
<li>–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–¥–∞—á—É, –≥–¥–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –≤–∏–¥–µ—Ç—å –æ–±–ª–∞—Å—Ç—å —Ä–µ—à–µ–Ω–∏–π –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ (x, a):
–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ —Å –¥—Ä–æ–±—è–º–∏, —Ä–∞–¥–∏–∫–∞–ª–∞–º–∏, –º–æ–¥—É–ª–µ–º.</li>
<li>–°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π—Ç–µ —É—Å–ª–æ–≤–∏–µ —Ç–∞–∫, —á—Ç–æ–±—ã –µ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –¥–∞—Ç—å —Å—Ç–∞—Ä—à–µ–∫–ª–∞—Å—Å–Ω–∏–∫–∞–º:
–æ—Ç–¥–µ–ª—å–Ω–æ –ø—Ä–æ–ø–∏—à–∏—Ç–µ –û–î–ó, –æ—Ç–¥–µ–ª—å–Ω–æ –ø–æ—è—Å–Ω–∏—Ç–µ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å.</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à–∞–≥–∏ 1‚Äì3 –∫–∞–∫ –∑–∞–≥–æ—Ç–æ–≤–∫—É –∫–æ–¥–∞, –Ω–æ –ø–µ—Ä–µ–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é <code>is_true</code>
–∏, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, <code>in_domain</code> –ø–æ–¥ —Å–≤–æ—é –∑–∞–¥–∞—á—É.</li>
<li>–ü–æ–¥—É–º–∞–π—Ç–µ, –∫–∞–∫–æ–π –≤–æ–ø—Ä–æ—Å –≤—ã –∑–∞–¥–∞–¥–∏—Ç–µ —É—á–µ–Ω–∏–∫–∞–º –ø–æ –∫–∞—Ä—Ç–∏–Ω–∫–µ:
–Ω–∞–ø—Ä–∏–º–µ—Ä, &laquo;–¥–ª—è –∫–∞–∫–∏—Ö a —Ä–µ—à–µ–Ω–∏–π –Ω–µ—Ç&raquo;, &laquo;–ø—Ä–∏ –∫–∞–∫–∏—Ö a —Ä–µ—à–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ x &gt; 0&raquo; –∏ —Ç.–ø.</li>
</ul>
</details>
</div></section>
<hr class="sep"/>

<section class="cell md"><div class="md">
<details>
<summary>üß© –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</summary>
<pre><code>import numpy as np
import matplotlib.pyplot as plt
from matplotlib.colors import ListedColormap, BoundaryNorm

# –ü—Ä–∏–º–µ—Ä –≤–æ–∑–º–æ–∂–Ω–æ–π –∞–≤—Ç–æ—Ä—Å–∫–æ–π –∑–∞–¥–∞—á–∏:
# (x^2 - 2*a*x + 1) / (x - 1) &gt;= 0, x != 1

xs = np.linspace(-3, 5, 400)
aas = np.linspace(-3, 5, 400)
X, A = np.meshgrid(xs, aas)

EPS = 0.05

def in_domain2(x, a):
    &quot;&quot;&quot;–û–±–ª–∞—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è: –∏—Å–∫–ª—é—á–∞–µ–º –æ–∫—Ä–µ—Å—Ç–Ω–æ—Å—Ç—å x = 1.&quot;&quot;&quot;
    return np.abs(x - 1) &gt;= EPS

def is_true2(x, a):
    &quot;&quot;&quot;–ù–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ (x^2 - 2*a*x + 1)/(x - 1) &gt;= 0.&quot;&quot;&quot;
    num = x**2 - 2*a*x + 1
    denom = x - 1
    return (num / denom) &gt;= 0

mask_odz = in_domain2(X, A)
holds = np.full_like(X, -1, dtype=int)

vals = np.zeros_like(X, dtype=bool)
vals[mask_odz] = is_true2(X[mask_odz], A[mask_odz])

holds[mask_odz &amp; vals] = 1
holds[mask_odz &amp; ~vals] = 0

cmap = ListedColormap(["white", "blue", "red"])
bounds = [-1.5, -0.5, 0.5, 1.5]
norm = BoundaryNorm(bounds, cmap.N)

plt.figure(figsize=(6, 5))
im = plt.imshow(
    holds,
    extent=[xs.min(), xs.max(), aas.min(), aas.max()],
    origin=&quot;lower&quot;,
    aspect=&quot;auto&quot;,
    cmap=cmap,
    norm=norm,
)
plt.xlabel(&quot;x&quot;)
plt.ylabel(&quot;a&quot;)
plt.title(&quot;–ê–≤—Ç–æ—Ä—Å–∫–∞—è –∑–∞–¥–∞—á–∞: –æ–±–ª–∞—Å—Ç—å —Ä–µ—à–µ–Ω–∏–π –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ (x, a)&quot;)

cbar = plt.colorbar(im, shrink=0.8)
cbar.set_ticks([-1, 0, 1])
cbar.set_ticklabels([&quot;–≤–Ω–µ –û–î–ó&quot;, &quot;–ª–æ–∂—å&quot;, &quot;–∏—Å—Ç–∏–Ω–∞&quot;])
cbar.ax.invert_yaxis()

plt.show()</code></pre>
<p><em>–≠—Ç–æ –ª–∏—à—å –ø—Ä–∏–º–µ—Ä –≤–æ–∑–º–æ–∂–Ω–æ–π –∞–≤—Ç–æ—Ä—Å–∫–æ–π –∑–∞–¥–∞—á–∏. –î–ª—è –æ—Ç—á—ë—Ç–∞ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –≤–∞–∂–Ω–æ –ø—Ä–∏–¥—É–º–∞—Ç—å –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ—é.</em></p>
</details>
</div></section>
<hr class="sep"/>

  <footer class="note">@ –°–º–∏—Ä–Ω–æ–≤ –ò.–°.</footer>
</main>

<script>
const editors = {};
document.querySelectorAll('textarea.codearea').forEach(ta=>{
  const ed = CodeMirror.fromTextArea(ta,{
    mode:'python', theme:'eclipse', lineNumbers:true,
    autoCloseBrackets:true, lineWrapping:true, viewportMargin:Infinity
  });
  ed.setValue(ta.getAttribute('data-original')||ta.value);
  editors[ta.id]=ed;
});
function copyCode(id){const ed=editors[id];const t=ed?ed.getValue():(document.getElementById(id)?.value||"");navigator.clipboard.writeText(t).then(()=>alert('–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω'))}
function resetCode(id){const ta=document.getElementById(id);const o=ta.getAttribute('data-original')||'';if(editors[id]) editors[id].setValue(o); else ta.value=o}
function clearOut(id){const el=document.getElementById(id); if(el) el.innerHTML=''}

let pyReady=(async()=>{const py=await loadPyodide();try{await py.loadPackage(['numpy','pandas','matplotlib']);}catch(e){console.warn('Pkg warn',e)}return py})();

function preprocessForPyodide(code){
  const lines=code.replaceAll('\r\n','\n').split('\n');
  const out=[];
  for(let ln of lines){
    if(/^\s*[!%]/.test(ln)) out.push('# [ignored colab magic] '+ln);
    else if(/get_ipython\s*\(/.test(ln)) out.push('# [ignored get_ipython] '+ln);
    else out.push(ln);
  }
  return out.join('\n');
}

async function runPy(codeId,outId){
  const out=document.getElementById(outId);
  out.innerHTML="<span style='opacity:.85'>‚è≥ –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è‚Ä¶</span>";
  const py=await pyReady;
  const setup=`
import sys, io, builtins
buf_out, buf_err = io.StringIO(), io.StringIO()

class _W:
    def __init__(self, b):
        self.b = b
    def write(self, s):
        self.b.write(s)
    def flush(self):
        pass

sys.stdout, sys.stderr = _W(buf_out), _W(buf_err)

from js import prompt

def _input(prompt_text=""):
    r = prompt(str(prompt_text))
    return "" if r is None else r

builtins.input = _input

# --- –ü–æ–¥–∞–≤–ª—è–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è Matplotlib –∏ –æ—Ç–∫–ª—é—á–∞–µ–º "–æ–∫–Ω–∞" ---
import warnings
warnings.filterwarnings("ignore", category=UserWarning, module="matplotlib")

import matplotlib
matplotlib.use("module://matplotlib.backends.backend_agg")
import matplotlib.pyplot as plt

# –î–µ–ª–∞–µ–º plt.show "—Ç–∏—Ö–∏–º": —Ñ–∏–≥—É—Ä—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ–π–º–∞–µ—Ç –∫–æ–¥ –Ω–∏–∂–µ –∏ –≤—ã–≤–µ–¥–µ—Ç –∫–∞–∫ PNG
plt.show = lambda *a, **k: None
`;
  try{
    await py.runPythonAsync(setup);
    const code=editors[codeId]?editors[codeId].getValue():(document.getElementById(codeId)?.value||"");
    const prep=preprocessForPyodide(code);
    await py.runPythonAsync(prep);
    const [stdoutText,stderrText,images]=await py.runPythonAsync(`
import base64, io
from matplotlib import pyplot as plt
import matplotlib
outs = buf_out.getvalue()
errs = buf_err.getvalue()
imgs = []
for f in list(matplotlib._pylab_helpers.Gcf.get_all_fig_managers()):
    b = io.BytesIO()
    f.canvas.figure.savefig(b, format='png', dpi=120, bbox_inches='tight')
    imgs.append(base64.b64encode(b.getvalue()).decode())
plt.close('all')
outs, errs, imgs
`);
    out.innerHTML="";
    if(stdoutText && stdoutText.trim()){const pre=document.createElement('pre');pre.textContent=stdoutText;out.appendChild(pre)}
    if(images && images.length){for(const b64 of images){const img=document.createElement('img');img.src='data:image/png;base64,'+b64;img.style.display='block';img.style.margin='8px 0';out.appendChild(img)}}
    if(stderrText && stderrText.trim()){const pre=document.createElement('pre');pre.style.color='#ff6b6b';pre.textContent=stderrText;out.appendChild(pre)}
  }catch(e){
    out.innerHTML = "<pre style='color:#ff6b6b'></pre>";
    out.querySelector('pre').textContent = (e && e.message) ? e.message : String(e);
  }
}
</script>

<script>
(function () {
  function getEditorValue(textarea) {
    const wrap = textarea.closest('.editor-wrap');
    const cmDiv = wrap ? wrap.querySelector('.CodeMirror') : null;
    const cm = cmDiv && cmDiv.CodeMirror ? cmDiv.CodeMirror : null;
    return cm && typeof cm.getValue === 'function'
      ? cm.getValue()
      : textarea.value || '';
  }

  function clean(s) {
    return (s || '').replace(/\r\n/g, '\n').trim();
  }

  function isPlaceholderOnly(val) {
    const noSpaces = val.replace(/[ \t]/g, '');
    if (/^#?–í–ê–®–ö–û–î–ù–ò–ñ–ï[:Ôºö]?\s*$/i.test(noSpaces)) return true;
    const lines = val.split('\n').map(l => l.trim());
    return lines.every(l => l === '' || l.startsWith('#'));
  }

  function collectUserCode() {
    const blocks = [];
    const codeareas = Array.from(document.querySelectorAll('textarea.codearea'));

    codeareas.forEach((ta, idx) => {
      const current = clean(getEditorValue(ta));
      const original = clean(ta.getAttribute('data-original'));

      if (current && current !== original && !isPlaceholderOnly(current)) {
        let cellNum = idx + 1;
        const header = ta.closest('.editor-wrap')?.querySelector('.cell-header');
        const badge = header?.querySelector('.badge');
        const m = badge && badge.textContent ? badge.textContent.match(/\[(\d+)\]/) : null;
        if (m) cellNum = Number(m[1]);

        blocks.push({
          num: cellNum,
          code: current
        });
      }
    });

    blocks.sort((a, b) => a.num - b.num);
    return blocks;
  }

  function buildTxt(blocks) {
    if (!blocks.length) {
      return '# –†–µ—à–µ–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã: –ø–æ—Ö–æ–∂–µ, –í—ã –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏ –Ω–∏ –æ–¥–Ω—É —è—á–µ–π–∫—É.';
    }
    const parts = blocks.map(b => [
      `# –Ø—á–µ–π–∫–∞ –∫–æ–¥–∞ ‚Ññ${b.num}:`,
      '',
      b.code,
      ''
    ].join('\n'));
    return parts.join('\n');
  }

  function downloadTxt(filename, text) {
    const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = filename || '–í–∞—à–∏_—Ä–µ—à–µ–Ω–∏—è.txt';
    document.body.appendChild(a);
    a.click();
    setTimeout(() => {
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }, 0);
  }

  function addDownloadButton() {
    const header = document.querySelector('header.page-title') || document.querySelector('main');
    if (!header || header.querySelector('#download-solutions-btn')) return;

    const btn = document.createElement('button');
    btn.id = 'download-solutions-btn';
    btn.textContent = 'üíæ –°–∫–∞—á–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è';
    btn.style.cssText = [
      'margin: 8px 0 0 0',
      'padding: 8px 12px',
      'border-radius: 10px',
      'border: 1px solid #1a73e8',
      'background: #1a73e8',
      'color: #fff',
      'font-size: 14px',
      'cursor: pointer'
    ].join(';');

    btn.addEventListener('click', () => {
      const blocks = collectUserCode();
      const txt = buildTxt(blocks);
      downloadTxt('–í–∞—à–∏_—Ä–µ—à–µ–Ω–∏—è.txt', txt);
    });

    header.appendChild(btn);
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', addDownloadButton);
  } else {
    addDownloadButton();
  }
})();
</script>

</body>
</html>
